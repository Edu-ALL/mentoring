{"remainingRequest":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\dl6\\Documents\\Project\\mentoring\\src\\components\\mentor\\page\\student.vue?vue&type=style&index=0&id=e0ec2994&lang=css","dependencies":[{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\src\\components\\mentor\\page\\student.vue","mtime":1658905061511},{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636015522000},{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1636015522000},{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\postcss-loader\\src\\index.js","mtime":1636015522000},{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636015528000},{"path":"C:\\Users\\dl6\\Documents\\Project\\mentoring\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1636015522000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY2FyZC13aGl0ZSB7DQogIGJhY2tncm91bmQ6ICNmZmY7DQogIHBhZGRpbmc6IDIwcHg7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQp9DQo="},{"version":3,"sources":["C:\\Users\\dl6\\Documents\\Project\\mentoring\\src\\components\\mentor\\page\\student.vue"],"names":[],"mappings":";AAoSA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACrB","file":"C:/Users/dl6/Documents/Project/mentoring/src/components/mentor/page/student.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div id=\"student\">\r\n    <div class=\"\" v-if=\"menus.submenu == ''\">\r\n      <div class=\"row mb-4\">\r\n        <div class=\"col-md-6 text-start\">\r\n          <input-group>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-mentoring form-control-sm\"\r\n              required\r\n            />\r\n            <label>Search</label>\r\n          </input-group>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <div class=\"card-white m-0 px-2 py-1 mt-2\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-hover align-middle\">\r\n                <thead>\r\n                  <tr class=\"text-secondary\">\r\n                    <td nowrap>No</td>\r\n                    <td nowrap>Full Name</td>\r\n                    <td nowrap>Email</td>\r\n                    <td nowrap>School Name</td>\r\n                    <td nowrap>Current Grade</td>\r\n                    <td nowrap>Phone Number</td>\r\n                    <td nowrap>Progress Status</td>\r\n                    <td nowrap>Tags</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(i, index) in students_data.data\" :key=\"index\">\r\n                    <td>{{ index + 1 }}</td>\r\n                    <td nowrap class=\"pointer\" @click=\"checkDetail(i.id)\">\r\n                      {{ i.first_name + \" \" + i.last_name }}\r\n                    </td>\r\n                    <td nowrap>{{ i.email }}</td>\r\n                    <td nowrap>{{ i.school_name }}</td>\r\n                    <td nowrap>{{ i.grade }}</td>\r\n                    <td nowrap>{{ i.phone_number }}</td>\r\n                    <td nowrap>\r\n                      <button\r\n                        @click=\"changeProgresStatus(i.id, 'ahead')\"\r\n                        class=\"btn-mentoring py-0 px-3 btn-sm mx-1\"\r\n                        :class=\"\r\n                          i.progress_status == 'ahead'\r\n                            ? 'btn-primary'\r\n                            : 'btn-type-2'\r\n                        \"\r\n                      >\r\n                        Ahead\r\n                      </button>\r\n                      <button\r\n                        @click=\"changeProgresStatus(i.id, 'ontrack')\"\r\n                        class=\"btn-mentoring py-0 px-3 btn-sm mx-1\"\r\n                        :class=\"\r\n                          i.progress_status == 'ontrack'\r\n                            ? 'btn-primary'\r\n                            : 'btn-type-2'\r\n                        \"\r\n                      >\r\n                        On-track\r\n                      </button>\r\n                      <button\r\n                        @click=\"changeProgresStatus(i.id, 'behind')\"\r\n                        class=\"btn-mentoring py-0 px-3 btn-sm mx-1\"\r\n                        :class=\"\r\n                          i.progress_status == 'behind'\r\n                            ? 'btn-primary'\r\n                            : 'btn-type-2'\r\n                        \"\r\n                      >\r\n                        Behind\r\n                      </button>\r\n                    </td>\r\n                    <td width=\"50%\" nowrap>\r\n                      <transition name=\"fade\">\r\n                        <div\r\n                          class=\"d-flex align-items-center\"\r\n                          v-if=\"add_tags[index]\"\r\n                        >\r\n                          <select\r\n                            v-model=\"tags_name\"\r\n                            class=\"form-mentoring w-100 form-control-sm\"\r\n                            @change=\"addTags(i.id, index)\"\r\n                          >\r\n                            <option value=\"val1\">Value 1</option>\r\n                            <option value=\"val2\">Value 2</option>\r\n                            <option value=\"val3\">Value 3</option>\r\n                          </select>\r\n                          <i\r\n                            class=\"fa-solid fa-close ms-2 text-danger pointer\"\r\n                            @click=\"add_tags[index] = !add_tags[index]\"\r\n                          ></i>\r\n                        </div>\r\n                      </transition>\r\n                      <!-- {{i.tag}} -->\r\n                      <div class=\"d-flex flex-wrap align-items-center\">\r\n                        <div v-for=\"j in i.tag\" :key=\"j\">\r\n                          <div class=\"badge bg-primary me-1\">\r\n                            {{ j }}\r\n\r\n                            <div\r\n                              class=\"badge bg-white ms-2 pointer\"\r\n                              @click=\"removeTags(i.id, j)\"\r\n                            >\r\n                              <i class=\"fa-solid fa-close text-danger\"></i>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          class=\"pointer mt-1\"\r\n                          v-if=\"!add_tags[index]\"\r\n                          @click=\"add_tags[index] = !add_tags[index]\"\r\n                        >\r\n                          <i\r\n                            class=\"fa-solid fa-plus-square text-success\"\r\n                            style=\"font-size: 1.1em\"\r\n                          ></i>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <nav class=\"mt-3\" v-if=\"students_data.from != null\">\r\n              <ul class=\"pagination justify-content-center\">\r\n                <li class=\"page-item\" v-if=\"students_data.current_page != 1\">\r\n                  <a\r\n                    class=\"page-link\"\r\n                    @click=\"getPage(students_data.links[0].url)\"\r\n                  >\r\n                    <i class=\"fa-solid fa-chevron-left\"></i>\r\n                  </a>\r\n                </li>\r\n                <div v-for=\"(i, index) in students_data.last_page\" :key=\"index\">\r\n                  <li\r\n                    class=\"page-item\"\r\n                    v-if=\"\r\n                      students_data.current_page - 2 < i &&\r\n                      students_data.current_page + 2 > i\r\n                    \"\r\n                  >\r\n                    <a\r\n                      class=\"page-link\"\r\n                      :class=\"\r\n                        students_data.current_page == i\r\n                          ? 'bg-primary text-white'\r\n                          : ''\r\n                      \"\r\n                      href=\"#\"\r\n                      @click=\"getPage(students_data.path + '?page=' + i)\"\r\n                      >{{ i }}</a\r\n                    >\r\n                  </li>\r\n                </div>\r\n                <li\r\n                  class=\"page-item\"\r\n                  v-if=\"students_data.current_page != students_data.last_page\"\r\n                >\r\n                  <a\r\n                    class=\"page-link\"\r\n                    @click=\"getPage(students_data.next_page_url)\"\r\n                  >\r\n                    <i class=\"fa-solid fa-chevron-right\"></i>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <v-detail\r\n      v-if=\"menus.menu == 'student' && menus.submenu != ''\"\r\n      :menus=\"menus\"\r\n      :detail=\"students_detail\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Detail from \"@/components/mentor/page/student/view\";\r\nexport default {\r\n  name: \"student\",\r\n  props: {\r\n    menus: Object,\r\n  },\r\n  // data() {\r\n  //   return {\r\n  //     add_tags: false,\r\n  //   };\r\n  // },\r\n  components: {\r\n    \"v-detail\": Detail,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      add_tags: [],\r\n      // category: [],\r\n      // webinar_data: [],\r\n      students_data: [],\r\n      tags_name: \"\",\r\n      students_detail: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async changeProgresStatus(id, s) {\r\n      // alert(s)\r\n      try {\r\n        const response = await this.$axios.put(\r\n          \"update/student/\" + id + \"/progress-status\",\r\n          { progress: s }\r\n        );\r\n        this.getHistory();\r\n\r\n        this.$alert.toast(\"success\", response.data.message);\r\n      } catch (e) {\r\n        console.log(e.response);\r\n        this.$alert.toast(\"error\", \"Please try again.\");\r\n      }\r\n    },\r\n\r\n    async addTags(id, index) {\r\n      // alert(id + this.tags_name)\r\n      try {\r\n        const response = await this.$axios.put(\r\n          \"update/student/\" + id + \"/tag\",\r\n          { tag: this.tags_name }\r\n        );\r\n        // console.log(response)\r\n        if (response.data.success) {\r\n          this.getHistory();\r\n          this.tags_name = \"\";\r\n          this.add_tags[index] = false;\r\n          this.$alert.toast(\"success\", response.data.message);\r\n        } else {\r\n          this.$alert.toast(\"error\", response.data.error);\r\n        }\r\n      } catch (e) {\r\n        console.log(e.response);\r\n        this.$alert.toast(\"error\", \"Please try again.\");\r\n      }\r\n    },\r\n\r\n    async removeTags(id, j) {\r\n      // alert(id + j)\r\n      try {\r\n        const response = await this.$axios.put(\r\n          \"update/student/\" + id + \"/tag\",\r\n          { remove_tag: j }\r\n        );\r\n        // console.log(response)\r\n        if (response.data.success) {\r\n          this.getHistory();\r\n          this.$alert.toast(\"success\", response.data.message);\r\n        } else {\r\n          this.$alert.toast(\"error\", response.data.error);\r\n        }\r\n      } catch (e) {\r\n        console.log(e.response);\r\n        this.$alert.toast(\"error\", \"Please try again\");\r\n      }\r\n    },\r\n\r\n    async checkDetail(id) {\r\n      this.$router.push({ path: \"/mentor/student/\" + id });\r\n    },\r\n\r\n    async getHistory() {\r\n      try {\r\n        this.$alert.loading();\r\n        const response = await this.$axios.get(\"student/list\");\r\n\r\n        this.students_data = response.data.data;\r\n        // console.log(response.data);\r\n        this.$alert.close();\r\n      } catch (e) {\r\n        this.$alert.close();\r\n        console.log(e.response);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getHistory();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.card-white {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n</style>"]}]}